# 코드 구조

------

## 문

문(statement)은 어떤 작업을 수행하는 문법 구조(syntax structure)와 명령어(command)를 의미한다. 앞서 ‘Hello world!’ 메세지를 보여주는 `alert('Hello world!')` 문을 확인한 바 있다. 코드엔 원하는 만큼 문을 작성할 수 있다. 이때, 서로 다른 문은 세미콜론으로 구분한다.

자바스크립트는 줄 바꿈이 있으면 이를 ‘암시적’ 세미콜론으로 해석한다. 이런 동작 방식을 세미콜론 자동 삽입(automatic semicolon insertion)이라 부른다.

**대부분의 경우, 줄 바꿈은 세미콜론을 의미한다. 하지만 ‘대부분의 경우’가 ‘항상’을 의미하진 않는다**.

```jsx
alert(3+
1
+2);
```

세미콜론 자동 삽입이 일어나지 않기 때문에 6이 출력된다. 어떤 줄이 `"+"` 로 끝나면, 그 줄은 ‘불완전한 표현식’이므로 세미콜론이 필요하지 않다는 걸 직감할 수 있다.

**반면, 세미콜론이 정말로 필요하지만 스크립트가 이를 추정하지 못하는 상황도 존재한다.**

이런 상황에서 발생하는 에러는 찾거나 고치기가 상당히 어렵다

### 에러 예제

구체적인 상황은 다음과 같다.

```jsx
[1, 2].forEach(alert)
```

코드를 실행하면 결과가 1과 2가 출력되는 문이다. 이제 위에서 작성한 코드 앞쪽에 세미콜론을 붙이지 않은 채 `alert`을 추가해 보자.

```jsx
alert("제대로 동작합니다.")
[1, 2].forEach(alert)
```

예제를 실행해 보면 새롭게 추가한 `alert`만 제대로 출력되고 에러가 발생하는 걸 확인할 수 있다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/05d5380f-b949-4664-8d3c-ab60b8cf93d7/Untitled.png)

새롭게 추가한 `alert`에 세미콜론을 추가해 다시 실행하면 코드는 잘 작동한다.

세미콜론이 없을 때 에러가 발생했던 이유는 자바스크립트가 대괄호`[..]`앞에는 세미콜론이 있다고 가정하지 않기 때문이다.

따라서 세미콜론 자동 삽입이 일어나지 않고 첫 번째 예제는 단일 문으로 처리된다. 자바스크립트 엔진의 입장에서 보면 다음과 같다.

```jsx
alert("에러가 발생합니다.")[1, 2].forEach(alert)
```

하지만 원래 이 코드는 단일 문이 아닌 두 개의 서로 다른 문이다. 문이 잘못 합쳐지면서 에러가 발생한 것이다.

줄 바꿈으로 문을 나눴더라도, 문 사이엔 세미콜론을 넣는 것이 좋다. 자바스크립트 커뮤니티에서도 이를 규칙으로 정해 권장하고 있다.