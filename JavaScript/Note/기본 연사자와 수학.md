# 기본 연사자와 수학

자바스크립트에서 지원하는 수학 연산자는 다음과 같다.

- 덧셈 연산자 `+`,
- 뺄셈 연산자 ``,
- 곱셈 연산자 ``,
- 나눗셈 연산자 `/`,
- 나머지 연산자 `%`,
- 거듭제곱 연산자 `*`

## 이항 연산자 ‘+’와 문자열 연결

덧셈 연사자 `+` 는 대개 숫자를 더한 결과를 반환한다. 그런데, 이항 연사자 `+` 의 피연산자로 문자열이 전달되면 덧셈 연산자는 덧셈이 아닌 문자열을 병합한다.

```jsx
let s = "my" + "string";
alert(s); // mystring
```

따라서 이항 연산자`+`를 사용할 때는 피연산자 중 **하나가 문자열이면 다른 하나도 문자열로 변환된다는 점에 주의해야 한다.**

좀 더 복잡한 예시를 살펴보자.

```jsx
alert(2 + 2 + '1' ); // '221'이 아니라 '41'이 출력됩니다.
```

연산은 왼쪽에서 오른쪽으로 순차적으로 진행되기 때문에 이런 결과가 나온다. 두 개의 숫자 뒤에 문자열이 오는 경우, 숫자가 먼저 더해지고, 그 후 더해진 숫자와 문자열과의 병합이 일어난다.

이처럼 이항 덧셈 연산자`+`는 문자열 연결과 변환이라는 특별한 기능을 제공한다. 다른 산술 연산자가 오직 숫자형의 피연산자만 다루고, 피연산자가 숫자형이 아닌 경우에 그 형을 숫자형으로 바꾸는 것과는 대조적이다.

아래는 뺄셈과 나눗셈 연산자가 어떻게 문자형 피연산자를 다루는지를 보여준다.

```jsx
alert( 6 - '2' ); // 4, '2'를 숫자로 바꾼 후 연산이 진행됩니다.
alert( '6' / '2' ); // 3, 두 피연산자가 숫자로 바뀐 후 연산이 진행됩니다.
```

## 단항 연산자 +와 숫자형으로의 변환

피연산자가 숫자가 아닌 경우엔 숫자형으로의 변환이 일어난다.

```jsx
// 숫자에는 아무런 영향을 미치지 않습니다.
let x = 1;
alert( +x ); // 1

let y = -2;
alert( +y ); // -2

// 숫자형이 아닌 피연산자는 숫자형으로 변화합니다.
alert( +true ); // 1
alert( +"" );   // 0
```

단항 덧셈 연산자는 짧은 문법으로도 `Number(...)`와 동일한 일을 할 수 있게 한다.

개발을 하다 보면 문자열을 숫자로 변환해야 하는 경우가 자주 생긴다. HTML 폼 필드에서 값을 가져왔는데 그 값이 문자형일 때와 같이 말이다. 실제로 폼에서 가져온 값은 대개 문자열 형태이다.

이항 덧셈 연산자를 사용하면 아래와 같이 값이 문자열로 변해셔 연결되어 버린다.

```jsx
let apples = "2";
let oranges = "3";

alert( apples + oranges ); // 23, 이항 덧셈 연산자는 문자열을 연결합니다.
```

원하는 대로 값을 더해주려면, 단항 덧셈 연산자를 사용해 피연산자를 숫자형으로 변화시키면 된다.

```jsx
let apples = "2";
let oranges = "3";

// 이항 덧셈 연산자가 적용되기 전에, 두 피연산자는 숫자형으로 변화합니다.
alert( +apples + +oranges ); // 5

// `Number(...)`를 사용해서 같은 동작을 하는 코드를 작성할 수 있지만, 더 기네요.
// alert( Number(apples) + Number(oranges) ); // 5
```

## 연산자 우선순위

하나의 표현식에 둘 이상의 연산자가 있는 경우, 실행 순서는 연산자의 우선순위(precedence)에 의해 결정된다.

자바스크립트에서 정의한 연산자 우선순위가 마음에 들지 않는다면, 괄호를 사용하면 된다.

## 증가, 감소 연산자

- 증가 연산자 `++`는 변수를 1 증가시킨다.

```jsx
let counter = 2;
counter++;      // counter = counter + 1과 동일하게 동작합니다. 하지만 식은 더 짧습니다.
alert( counter ); // 3
```

- 감소 연산자 `--`는 변수를 1 감소시킨다.

> **중요!** 증가/감소 연산자는 변수에만 쓸 수 있다. `5++`와 같이 쓰면 에러

`++`와 `--`연산자는 변수 앞이나 뒤에 올 수 있다.

- `counter++`와 같이 피연산자 뒤에 올 때는, ‘후위형’이라고 부른다.
- `++counter`와 같이 피연산자 앞에 올 때는, ‘전위형’이라고 부른다.

두 형의 차이는 반환 값을 사용할 때 드러난다.

```jsx
let counter = 1;
let a = ++counter; // (*)

alert(a); // 2
let counter = 1;
let a = counter++; // (*) ++counter를 counter++로 바꿈

alert(a); // 1
```

증가, 감소 연산자에 대한 내용을 정리하면 아래와 같다.

- 변환 값을 사용하지 않는 경우라면, 전위형과 후위형엔 차이가 없다.

```jsx
let counter = 0;
counter++;
++counter;
alert( counter ); // 2, 위 두 라인은 동일한 연산을 수행합니다.
```

- 값을 증가시키고 난 후, 증가한 값을 바로 사용하려면 전위형 증가 연산자를 사용하면 된다.

```jsx
let counter = 0;
alert( ++counter ); // 1
```

- 값을 증가시키지만, 증가 전의 기존값을 사용하려면 후위형 증가 연산자를 사용하면 된다.

```jsx
let counter = 0;
alert( counter++ ); // 0
```

### **'코드 한 줄엔, 특정 동작 하나’에 관련된 내용만 작성하는 게 좋다**

문제

```jsx
"" + 1 + 0 = "10" // (1)
"" - 1 + 0 = -1 // (2)
true + false = 1
6 / "3" = 2
"2" * "3" = 6
4 + 5 + "px" = "9px"
"$" + 4 + 5 = "$45"
"4" - 2 = 2
"4px" - 2 = NaN
7 / 0 = Infinity
"  -9  " + 5 = "  -9  5" // (3)
"  -9  " - 5 = -14 // (4)
null + 1 = 1 // (5)
undefined + 1 = NaN // (6)
" \\t \\n" - 2 = -2 // (7)
```

1. 피 연산자 중 하나가 문자열인 `"" + 1`에서 `1`은 문자형으로 변환됩니다. 따라서 공백과 문자열 1을 더한, `"" + 1 = "1"`과 같은 효과를 발휘하죠. 그다음 연산 `"1" + 0`에도 같은 규칙이 적용됩니다.
2. 뺄셈 연산자 ``는 기타 수학 연산자처럼 숫자형만을 인수로 받습니다. 빈 문자열 `""`는 숫자 `0`으로 변환되기 때문에 결과는 `1`이 됩니다.
3. 피 연산자 중 하나가 문자열이므로 숫자 5가 문자열로 변환됩니다.
4. 뺄셈 연산자는 인수를 숫자형으로 변화시키므로 `" -9 "`는 숫자 `9`로 변합니다. 앞, 뒤 공백은 제거되죠.
5. 숫자형으로 변환 시 `null`은 `0`이 됩니다.
6. `undefined`는 숫자형으로 변환시 `NaN`이 됩니다.
7. 문자열이 숫자형으로 변할 땐 문자열 앞뒤의 공백이 삭제됩니다. 뺄셈 연산자 앞의 피연산자는 공백을 만드는 문자 `\\t`와 `\\n`, 그 사이의 “일반적인” 공백으로 구성됩니다. 따라서 `" \\t \\n"`는 숫자형으로 변환 시 길이가 `0`인 문자열로 취급되어 숫자 `0`이 됩니다.