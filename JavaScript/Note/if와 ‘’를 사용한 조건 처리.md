# if와 ‘?’를 사용한 조건 처리

## ‘if’문

`if(..)`문은 괄호 안에 들어가는 조건을 평가하는데, 그 결과고 true이면 코드 블록이 실행된다.

```jsx
let year = prompt('ECMAScript-2015 명세는 몇 년도에 출판되었을까요?', '');

if (year == 2015) alert( '정답입니다!' );
```

## 불린형으로의 변환

`if(..)`문은 괄호 안의 표현식을 평가하고 그 결과를 불린값을 변환한다.

[형 변환](https://www.notion.so/ed4c753a0b874d6ab599592f913758a1) 챕터에서 배운 형 변환 규칙을 잠시 상기해 보자.

- 숫자, 0, 빈 문자열, “”, null, undefined, NaN은 불린형으로 변환 시 모두 false가 된다. 이런 값들은 ‘falsy(거짓 같은)’ 값이라고 부른다.
- 이 외의 값은 불린형으로 변환시 true가 되므로 ‘truthy(참 같은)’ 값이라고 부른다.

```jsx
아래와 같이 평가를 통해 확정된 불린값을 if문에 전달할 수도 있습니다.

let cond = (year == 2015); // 동등 비교를 통해 true/false 여부를 결정합니다.

if (cond) {
  ...
}
```

## ‘else’ 절

`if` 문엔 `else` 절을 붙일 수 있다. `else`  뒤에 이어지는 코드 블록은 조건이 거짓일 때 실행된다.

```jsx
let year = prompt('ECMAScript-2015 명세는 몇 년도에 출판되었을까요?', '');

if (year == 2015) {
  alert( '정답입니다!' );
} else {
  alert( '오답입니다!' ); // 2015 이외의 값을 입력한 경우
}
```

### ‘else if’로 복수 조건 처리하기

```jsx
let year = prompt('ECMAScript-2015 명세는 몇 년도에 출판되었을까요?', '');

if (year < 2015) {
  alert( '숫자를 좀 더 올려보세요.' );
} else if (year > 2015) {
  alert( '숫자를 좀 더 내려보세요.' );
} else {
  alert( '정답입니다!' );
}
```

위 예시에서, 자바스크립트는 조건 `year < 2015` 를 먼저 확인한다. 이 조건이 거짓이라면 다음 조건 `year > 2015` 를 확인한다. 이 조건 또한 거짓이라면 `else` 절 내의 `alert`을 실행한다.

## 조건부 연산자’?’

```jsx
let accessAllowed;
let age = prompt('나이를 입력해 주세요.', '');

if (age > 18) {
  accessAllowed = true;
} else {
  accessAllowed = false;
}

alert(accessAllowed);
```

‘물음표 (question mark) 연산자’ 라고도 불리는 ‘조건부(conditional) 연산자’를 사용하면 위 예시를 더 짧고 간결하게 변형할 수 있다.

조건부 연산자는 물음표 `?` 로 표시한다. 피연산자가 세 개이기 때문에 조건부 연산자를 ‘삼항(ternary) 연산자’라고 부르는 사람도 있다. 참고로, 자바스크립트에서 피연산자가 3개나 받는 연산자는 조건부 연산자가 유일하다.

```jsx
let result = condition ? value1 : value2;
```

평가 대사상인 `condition`이 truthy라면 `value1` 이, 그렇지 않으면 `value2`가 반환된다.

```jsx
let accessAllowed = (age > 18) ? true : false;
```

### 다중 ‘?’

물음표 연산자 `?`를 여러 개 연결하면 복수의 조건을 처리할 수 있다.

```jsx
let age = prompt('나이를 입력해주세요.', 18);

let message = (age < 3) ? '아기야 안녕?' :
  (age < 18) ? '안녕!' :
  (age < 100) ? '환영합니다!' :
  '나이가 아주 많으시거나, 나이가 아닌 값을 입력 하셨군요!';

alert( message );
```

이러한 복잡한 물음표 연산자는 어떻게 동작하는 파악하기 힘들 수도 있다.

1. 첫 번째 물음표에서 조건문 `age < 3`을 검사한다.
2. 그 결과가 참이면 `'아기야 안녕?'`를 반환합니다. 그렇지 않으면 첫 번째 콜론`":"`에 이어지는 조건문 `age < 18`을 검사합니다.
3. 그 결과가 참이면 `'안녕!'`를 반환합니다. 그렇지 않으면 다음 콜론`":"` 이어지는 조건문 `age < 100`을 검사합니다.
4. 그 결과가 참이면 `'환영합니다!'`를 반환합니다. 그렇지 않다면 마지막 콜론 `":"`이후의 표현식인 `'나이가 아주 많으시거나, 나이가 아닌 값을 입력 하셨군요!'`를 반환한다.

`if..else`를 사용하면 아래와 같이 변형할 수 있다.

```jsx
if (age < 3) {
  message = '아기야 안녕?';
} else if (age < 18) {
  message = '안녕!';
} else if (age < 100) {
  message = '환영합니다!';
} else {
  message = '나이가 아주 많으시거나, 나이가 아닌 값을 입력 하셨군요!';
}
```

### 부적절한 ‘?’

물음표 `?`를 `if`대용으로 쓰는 경우가 종종 있다.

```jsx
let company = prompt('자바스크립트는 어떤 회사가 만들었을까요?,'');
(company == 'Netscape')?
	alert('정답입니다!'):alert('오답입니다!';
```

조건 `company == 'Netscape'`의 검사 결과에 따라 `?`뒤에 이어지는 첫 번째 혹은 두 번째 표현식이 실행되어 `alert`창이 뜬다.

위 예시에선 평가 결과를 변수에 할당하지 않고, 결과에 따라 실행되는 표현식이 달라지도록 하였다.

그런데 이런 식으로 물음표 연산자를 사용하는 것은 좋지 않다.

개발자 입장에선 `if`문을 사용할 때 보다 코드 길이가 짧아진다는 점 때문에 `?`를 `if` 대용으로 쓰는 게 매력적일 순 있다. 하지만 이렇게 코드를 작성하면 가독성이 떨어진다.

아래는 `if`를 사용해 변형한 코드이다.

```jsx
let company = prompt('자바스크립트는 어떤 회사가 만들었을까요?', '');

if (company == 'Netscape') {
  alert('정답입니다!');
} else {
  alert('오답입니다!');
}
```

