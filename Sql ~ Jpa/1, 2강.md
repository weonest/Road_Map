# SQL (Group by 까지)

- 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2d210578-ba93-434e-b3be-47d7649b185e/Untitled.png)

- 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1183b705-83d8-4eca-8795-d791fa55658f/Untitled.png)

- 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8bfa9715-6a79-4501-aee9-67b4b4b6e3d5/Untitled.png)

- 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/88d8b42f-47a9-4b58-9861-e46779b76d7c/Untitled.png)

- `select *  from ~~ limit 0, 1000` 0부터 1000개의 정보를 가져온다. (0을 10으로 바꾸면 10부터 100개를 가져옴)
- 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d412acf4-4f7c-48ca-99b0-b8424413e437/Untitled.png)

## 패턴 매칭

- MySQL 기본적으로 제공하는 것

  - 표준 SQL pattern matching
  - 정규표현식 pattern mathcing,
    - vi, grep, sed 와 같은 Unix에서의 유틸리티에서의 그것과 같다

- SQL Pattern matching

  - LIKE or NOT LIKE 비교 연산자를 사용해서 패턴매칭을 한다.
  - 기본적으로 영문자인 경우 대소문자 구별을 안한다.

- 특수문자

  - 와일드 카드를 사용하여 특정 문자를 포함한 값에 대한 조건을 처리
  - `%`는 0에서부터 여러 개의 문자열을 나타냄
  - `_`는 하나의 문자를 나타내는 와일드 카드 ( `'_____'`와 같이 검색하면 5글자인 필드 검색)

  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5ad020f1-7fb9-47c1-a86e-395e49cc4b11/Untitled.png)

  - Kgu 프로젝트에서도 `em.createquerry`를 통해 쿼리문을 생성할 때 `'%keyword%'`와 같이 사용했었음

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b277568a-1dc9-4a17-af56-47b0770834a8/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4e686407-fe1f-44a2-b545-f4b4fb250494/Untitled.png)

- ```
  INDEX
  ```

  는 아무때나 만드는 것이 아니라, 

  ```
  Data
  ```

  가 굉장히 많을때

  - 적을 때는 오히려 속도가 느려지지만, 많을 때는 `INDEX`를 참조하는 것이 빠르다

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3cdb833b-d3bd-49ea-9dd3-e70001c26859/Untitled.png)

- ```
  LPAD
  ```

  는 문자열을 파라미터로 받음 (자료형 자동 변환도 가능). 가운데 파라미터가 글자수를 나타냄

  - 예) `???hi, ****joe`

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9c9b3cc1-598a-42e2-a4d5-cf3bb66fd9e2/Untitled.png)

- `TRIM`은 공백 및 문자를 제거해줌

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/88be4f05-0a58-4a8c-a79f-b2ba9bf5d4c2/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/49721900-115b-4e90-8714-0016d8ccfcd4/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/737bdd77-b63f-4f9f-b51f-91197867c8f8/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8a75e0c7-3949-4056-848c-80fe06a9fe91/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b7b7208f-d628-4b21-b1ce-0a90ef00ed14/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1d720131-31de-4c56-8cf1-9ea80cfb7a9d/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/af44be3b-b3b8-4789-b351-aeef5231c9d0/Untitled.png)

- 문자열의 경우에는 아스키? 순서로
  - 가장 작은 값은 `Least`

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d08e53ea-4d43-43f0-9d76-644e4b83277a/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/20556012-9333-4751-befa-11cb33b6a624/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/61c7a64c-9b9d-4410-adbc-f6692a6358cc/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1b3a8dc1-9d2d-4146-b2b7-900400ab58d9/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8819818a-614d-4c4d-8322-b6323a7788e0/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7e61d707-6742-4091-a545-9c5ac2720992/Untitled.png)

- UNSGINED 는 검색해서 찾아볼 것

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b122283b-8096-4653-9a73-f7726fb7c577/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a100df29-bc57-4249-bc10-d361c9a7459b/Untitled.png)

- 컬럼명을 넣을 경우에는 `null`이 아닌 값만 출력

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/235b6b00-0a1b-4e7f-a343-cd7059868059/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d3209ce-d67b-4a0f-a41f-cd17d1671f96/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/04c1c8f4-8219-40d5-ad59-52f72c3a19b7/Untitled.png)

- GROUP BY 다음과 같이 사용해야 한다
  - `select department_id, avg(salary) from employees GROUP BY department_id;`